# iOSアプリ開発 提案書

## 🤔 React Native vs Swift 比較

| 観点 | React Native | Swift (ネイティブ) |
|------|-------------|-------------------|
| **コード再利用** | ✅ 既存のReact/TSコードの多くを流用可能 | ❌ ゼロから書き直し |
| **開発速度** | ✅ 速い（既存知識を活かせる） | ⚠️ 遅い（新言語の習得が必要） |
| **パフォーマンス** | ⚠️ ほぼネイティブ級だが若干劣る | ✅ 最高 |
| **ネイティブ機能** | ⚠️ ブリッジ経由で対応 | ✅ 完全対応 |
| **Androidサポート** | ✅ 同時開発可能 | ❌ 別途Kotlinで開発 |
| **App Store審査** | ✅ 問題なし | ✅ 問題なし |
| **メンテナンス** | ✅ Web版と共通化できる | ❌ 別コードベース |

---

## 🎯 推奨：React Native（Expo）

### 理由

1. **既存資産の活用** - 現在のTypeScript/Reactのコードベース、特にビジネスロジック（`lib/api/`配下）やカスタムフック（`hooks/`）をそのまま使える

2. **学習コスト最小化** - チームが既にReact + TypeScriptに習熟しているため、SwiftUIを一から学ぶより効率的

3. **Android将来対応** - 将来的にAndroid版も視野に入れるなら、React Nativeで一気に両対応できる

4. **Expoの恩恵** - Expo SDKを使えば、プッシュ通知やカメラ（レシート読み取り連携）など、ネイティブ機能も簡単に利用可能

---

## 📋 開発フェーズ

### フェーズ1：準備・調査（1週間）
- [ ] Expo + React Nativeの環境構築
- [ ] 既存コードの共有可能部分の洗い出し
- [ ] UIデザインのモバイルネイティブ向け調整案作成

### フェーズ2：共通ライブラリ化（1週間）
- [ ] `lib/api/` をmonorepoまたはnpmパッケージ化
- [ ] 型定義（`types/`）の共通化
- [ ] Supabaseクライアント処理の共通化

### フェーズ3：コアUI実装（2週間）
- [ ] ログイン画面（Supabase Auth連携）
- [ ] ダッシュボード画面
- [ ] トランザクション入力画面
- [ ] ナビゲーション構造の構築

### フェーズ4：機能拡張（2週間）
- [ ] アナリティクス画面
- [ ] 設定画面
- [ ] AI入力機能の移植
- [ ] プッシュ通知連携

### フェーズ5：テスト・リリース（1週間）
- [ ] TestFlightでベータテスト
- [ ] App Store審査対応
- [ ] リリース

---

## 🛠️ 推奨技術スタック

```
React Native + Expo
├── Expo Router（ナビゲーション）
├── Supabase（認証・DB）
├── React Native Paper / NativeWind（UI）
├── React Query（データフェッチ）
└── 共通lib/（Web版と共有）
```

---

## 📅 概算スケジュール

| フェーズ | 期間 | マイルストーン |
|---------|------|---------------|
| 準備・調査 | 1週間 | 環境構築完了 |
| 共通ライブラリ化 | 1週間 | monorepo移行完了 |
| コアUI実装 | 2週間 | ログイン〜ダッシュボード動作 |
| 機能拡張 | 2週間 | 全機能実装完了 |
| テスト・リリース | 1週間 | App Store公開 |

**合計：約7週間**

---

## 📝 備考

- PWA対応を先に行うことで、iOSアプリ開発前にモバイル体験の検証が可能
- Stripe決済連携はWeb版と共通のバックエンドAPIを使用予定
